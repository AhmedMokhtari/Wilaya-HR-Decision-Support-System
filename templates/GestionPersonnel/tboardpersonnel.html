{% extends 'menu.html' %}
{% block content %}
    {% load static %}
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="{% static 'css/all.min.css' %}"/>
    <link href="assets/css/feather.css" rel="stylesheet" type="text/css">
    <div class="row">
        <div class="col-12 col-sm-6 col-xl d-flex">
            <div class="card flex-fill">
                <div class="card-body py-4">
                    <div class="media">
                        <div class="d-inline-block mt-2 mr-3">
                            <i class="feather-lg text-primary" data-feather="user"></i>
                        </div>
                        <div class="media-body">
                            <h3 class="mb-2">{{  hommes }}</h3>
                            <div class="mb-0">Hommes</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-6 col-xl d-flex">
            <div class="card flex-fill">
                <div class="card-body py-4">
                    <div class="media">
                        <div class="d-inline-block mt-2 mr-3">
                            <i class="feather-lg text-warning" data-feather="user"></i>
                        </div>
                        <div class="media-body">
                            <h3 class="mb-2">{{ femmes }}</h3>
                            <div class="mb-0">Femmes</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-6 col-xl d-flex">
            <div class="card flex-fill">
                <div class="card-body py-4">
                    <div class="media">
                        <div class="d-inline-block mt-2 mr-3">
                            <i class="feather-lg text-success" data-feather="sliders"></i>
                        </div>
                        <div class="media-body">
                            <h3 class="mb-2">{{administrationOne}}</h3>
                            <div class="mb-0">AdministrationOne</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-6 col-xl d-flex">
            <div class="card flex-fill">
                <div class="card-body py-4">
                    <div class="media">
                        <div class="d-inline-block mt-2 mr-3">
                            <i class="feather-lg text-danger" data-feather="sliders"></i>
                        </div>
                        <div class="media-body">
                            <h3 class="mb-2">{{ administrationTwo }}</h3>
                            <div class="mb-0">AdministrationTwo</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-6 col-xl d-none d-xxl-flex">
            <div class="card flex-fill">
                <div class="card-body py-4">
                    <div class="media">
                        <div class="d-inline-block mt-2 mr-3">
                            <i class="feather-lg text-info" data-feather="activity"></i>
                        </div>
                        <div class="media-body">
                            <h3 class="mb-2">{{personnels}}</h3>
                            <div class="mb-0">Nombre Total du personnel </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12 col-lg-8 d-flex">
            <div class="card flex-fill w-100">
                <div class="card-header">
                    <span class="badge badge-primary float-right">{% now "Y" %}</span>
                    <h5 class="card-title mb-0">DÃ©part en retraite</h5>
                </div>
                <div class="card-body">
                    <div class="chart chart-lg">
                        <canvas id="chartjs-dashboard-line"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-4 d-flex">
            <div class="card flex-fill w-100">
                <div class="card-body d-flex">
                    <div class="align-self-center w-100">
                        <div class="py-3">
                            <img  class="img-fluid" src='data:image/png;base64,{{chart|safe}}'/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

     <div class="row">
        <div class="col-12 col-sm-4 d-flex">
            <div class="card flex-fill">
                <div class="card-header">
                    <div class="card-actions float-right">
                        <div class="dropdown show">
                            <a href="#" data-toggle="dropdown" data-display="static">
                              <i class="align-middle" data-feather="more-horizontal"></i>
                            </a>

                            <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item" href="#">Action</a>
                                <a class="dropdown-item" href="#">Another action</a>
                                <a class="dropdown-item" href="#">Something else here</a>
                            </div>
                        </div>
                    </div>
                    <h5 class="card-title mb-0">Calendar</h5>
                </div>
                <div class="card-body d-flex">
                    <div class="align-self-center w-100">
                        <div class="chart">
                            <div id="datetimepicker-dashboard"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12 col-sm-8 d-flex">
            <div class="card flex-fill">
                <div class="card-header">
                    <div class="card-actions float-right">
                        <div class="dropdown show">
                            <a href="#" data-toggle="dropdown" data-display="static">
                              <i class="align-middle" data-feather="more-horizontal"></i>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a class="dropdown-item" href="#">Action</a>
                                <a class="dropdown-item" href="#">Another action</a>
                                <a class="dropdown-item" href="#">Something else here</a>
                            </div>
                        </div>
                    </div>
                    <h5 class="card-title mb-0">Latest Projects</h5>
                </div>
                <table id="datatables-dashboard-projects" class="table table-striped my-0">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th class="d-none d-xl-table-cell">Start Date</th>
                            <th class="d-none d-xl-table-cell">End Date</th>
                            <th>Status</th>
                            <th class="d-none d-md-table-cell">Assignee</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for perso in personnelslastup %}
                        <tr>
                            <td>{{ perso.nomfr }} - {{ perso.nomar }}</td>
                            <td class="d-none d-xl-table-cell">01/01/2018</td>
                            <td class="d-none d-xl-table-cell">31/06/2018</td>
                            <td><span class="badge badge-success">Done</span></td>
                            <td class="d-none d-md-table-cell">Carl Jenkins</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
		$(function() {
			$("#datetimepicker-dashboard").datetimepicker({
				inline: true,
				sideBySide: false,
				format: "L"
			});
		});
	</script>
	<script>
		$(function() {
			// Line chart
			new Chart(document.getElementById("chartjs-dashboard-line"), {
				type: "line",
				data: {
					labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
					datasets: [{
						label: "Personnel",
						fill: true,
						backgroundColor: "Transparent",
						borderColor: window.theme.primary,
						data: [{{ departretraiteone.0 }}, {{ departretraiteone.1 }}, {{ departretraiteone.2 }}, {{ departretraiteone.3 }}, {{ departretraiteone.4 }}, {{ departretraiteone.5 }}, {{ departretraiteone.6 }}, {{ departretraiteone.7 }}, {{ departretraiteone.8 }}, {{ departretraiteone.9 }}, {{ departretraiteone.10 }},{{ departretraiteone.11 }}]
					}, {
						label: "Personnel",
						fill: true,
						backgroundColor: "Transparent",
						borderColor: window.theme.tertiary,
						borderDash: [4, 4],
						data: [{{ departretraitetwo.0 }}, {{ departretraitetwo.1 }}, {{ departretraitetwo.2 }}, {{ departretraitetwo.3 }}, {{ departretraitetwo.4 }}, {{ departretraitetwo.5 }}, {{ departretraitetwo.6 }}, {{ departretraitetwo.7 }}, {{ departretraitetwo.8 }}, {{ departretraitetwo.9 }}, {{ departretraitetwo.10 }},{{ departretraitetwo.11 }}]
					}]
				},
				options: {
					maintainAspectRatio: false,
					legend: {
						display: false
					},
					tooltips: {
						intersect: false
					},
					hover: {
						intersect: true
					},
					plugins: {
						filler: {
							propagate: false
						}
					},
					scales: {
						xAxes: [{
							reverse: true,
							gridLines: {
								color: "rgba(0,0,0,0.05)"
							}
						}],
						yAxes: [{
							ticks: {
								stepSize: 500
							},
							display: true,
							borderDash: [5, 5],
							gridLines: {
								color: "rgba(0,0,0,0)",
								fontColor: "#fff"
							}
						}]
					}
				}
			});
		});
	</script>
	<script>
		$(function() {
			// Pie chart
			new Chart(document.getElementById("chartjs-dashboard-pie"), {
				type: "pie",
				data: {
					labels: ["Direct", "Affiliate", "E-mail", "Other"],
					datasets: [{
						data: [2602, 1253, 541, 1465],
						backgroundColor: [
							window.theme.primary,
							window.theme.warning,
							window.theme.danger,
							"#E8EAED"
						],
						borderColor: "transparent"
					}]
				},
				options: {
					responsive: !window.MSInputMethodContext,
					maintainAspectRatio: false,
					legend: {
						display: false
					}
				}
			});
		});
	</script>
	<script>
		$(function() {
			$("#datatables-dashboard-projects").DataTable({
				pageLength: 6,
				lengthChange: false,
				bFilter: false,
				autoWidth: false
			});
		});
	</script>
    <script>
        var chart = JSC.chart('chartDiv', {
          debug: true,
          type: 'horizontal column',
          title_label_text: 'US population in 2015',
          yAxis: {
            scale_type: 'stacked',
            defaultTick_label_text:
              '{Math.abs(%Value):a2}'
          },
          xAxis: {
            label_text: 'Age',
            crosshair_enabled: true
          },
          defaultTooltip_label_text:
            'Ages %xValue:<br><b>%points</b>',
          defaultPoint_tooltip:
            '%icon {Math.abs(%Value)}',
          legend_template:
            '%name %icon {Math.abs(%Value)}',
          series: [
            {
              name: 'Male',
              points: {
                mapTo: 'x,y',
                data: [
                  ['0-4', -10059740],
                  ['5-9', -10517634],
                  ['10-14', -10526401],
                  ['15-19', -10631931],
                  ['20-24', -11996587],
                  ['25-29', -11254853],
                  ['30-34', -11114717],
                  ['35-39', -9932894],
                  ['40-44', -10390339],
                  ['45-49', -10378298],
                  ['50-54', -11387743],
                  ['55-59', -10872343],
                  ['60-64', -9145334],
                  ['65-69', -7618126],
                  ['70-74', -5246871],
                  ['75-79', -3617750],
                  ['80+', -4626342]
                ]
              }
            },
            {
              name: 'Female',
              points: {
                mapTo: 'x,y',
                data: [
                  ['0-4', 9619810],
                  ['5-9', 10092946],
                  ['10-14', 10093446],
                  ['15-19', 10066517],
                  ['20-24', 11266559],
                  ['25-29', 10711383],
                  ['30-34', 10893282],
                  ['35-39', 9770693],
                  ['40-44', 10381899],
                  ['45-49', 10222507],
                  ['50-54', 11532467],
                  ['55-59', 11232544],
                  ['60-64', 9800743],
                  ['65-69', 8392833],
                  ['70-74', 6168134],
                  ['75-79', 4394229],
                  ['80+', 7460923]
                ]
              }
            }
          ]
        });
    </script>
{% endblock content %}